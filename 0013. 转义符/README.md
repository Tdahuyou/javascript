# [0013. 转义符](https://github.com/Tdahuyou/javascript/tree/main/0013.%20%E8%BD%AC%E4%B9%89%E7%AC%A6)

<!-- region:toc -->
- [1. 📒 转义符的含义和作用](#1--转义符的含义和作用)
- [2. 🔗 wiki 对转义符的介绍](#2--wiki-对转义符的介绍)
- [3. 🤔 问：`escape character` 是什么意思？](#3--问escape-character-是什么意思)
- [4. 💻 练习题.1 - 按照指定格式打印系统时间](#4--练习题1---按照指定格式打印系统时间)
- [5. 🤔 问：在 js 的字符串中，\ 反斜杠表示转义，如何不转义，输入反斜杠呢？](#5--问在-js-的字符串中\-反斜杠表示转义如何不转义输入反斜杠呢)
- [6. 🤔 问：转义符 `\r\n` 诞生的背景](#6--问转义符-\r\n-诞生的背景)
<!-- endregion:toc -->
- 知识点：
  - 转义符是什么
  - 转义符有什么用
- 当你在程序中需要输出一些特殊字符的时候，能够想要“转义符”这个知识点即可。

## 1. 📒 转义符的含义和作用

- 转义字符是编程语言中一种非常重要的机制，它 **允许开发者在字符串中安全地使用特殊字符**。
  - **有些字符在字符串文本中有特殊的含义**，例如：
    - 引号：
      - **`**
      - `'`
      - `"`
    - 换行符：`\n`
    - 制表符：`\t`
    - …… 等等。
  - 如果你想在字符串中包含这些特殊字符，而不是它们的特殊功能，就需要一种方法来告诉编程语言这些字符应该被视为普通文本。
  - **转义字符允许你插入这些特殊字符而不触发它们的特殊行为。**

| 转义符 | 含义           |
| ------ | -------------- |
| `\'`   | 普通英文单引号 |
| `\"`   | 普通英文双引号 |
| `\r`   | 回车           |
| `\n`   | 换行           |
| ……     | ……             |

## 2. 🔗 wiki 对转义符的介绍

- https://en.wikipedia.org/wiki/Escape_character
  - 维基百科
  - Escape character

> In computing and telecommunication, an **escape character** is a character that invokes an alternative interpretation on the following characters in a character sequence. An escape character is a particular case of metacharacters. Generally, the judgement of whether something is an escape character or not depends on the context.

中文：

**在计算机和通信领域中，转义字符是一种字符，它会对其后的字符序列中的字符进行替代解释**。转义字符是元字符的一种特殊情况。通常，判断某个字符是否为转义字符取决于上下文环境。

> `escape` 表示逃离的意思，`escape character` 表示转义字符（可以理解为逃离计算机的翻译）。

## 3. 🤔 问：`escape character` 是什么意思？

在编程中，转义符的作用是让某些字符“逃脱”其正常的解释方式，从而被解释为特殊含义或符号。这种机制与“逃脱”或“避开”字符的原始含义非常相似，因此“escape”这个词非常贴切。

在阅读外文文档的时候，需要知道这个短语 `escape character` 表示的是转义符的含义。

## 4. 💻 练习题.1 - 按照指定格式打印系统时间

```javascript
/*
请打印以下内容：

现在时间是'24.06.05'
下午"11:30"

要求：
1. 使用 console.log 来打印
2. 只能传入一个参数
3. 不能使用模板字符串
*/
```

- 输出示例
  - ![](assets/2024-12-28-12-09-17.png)
- 参考答案

```javascript
console.log('现在时间是\'24.06.05\'\r\n下午"11:30"')
```

## 5. 🤔 问：在 js 的字符串中，\ 反斜杠表示转义，如何不转义，输入反斜杠呢？

- 可能的应用场景：
  - 在普通字符串和模板字符串中，使用 `\\` 来表示一个实际的反斜杠。
  - 在正则表达式中，同样使用 `\\` 来表示一个实际的反斜杠。
- 在 JavaScript 中，如果你想要在字符串中包含一个实际的反斜杠（`\`），你需要使用双反斜杠（`\\`）来表示。这是因为单个反斜杠是转义字符，它告诉 JavaScript 解释器接下来的字符应该被特殊处理。通过这种方式，你可以确保在字符串中正确地包含反斜杠而不被当作转义字符处理。
- 假设你想要创建一个包含路径的字符串，这个路径中包含了反斜杠。你可以这样做：

```javascript
const path = 'C:\\Users\\Username\\Documents\\file.txt'
console.log(path) // 输出: C:\Users\Username\Documents\file.txt

// 在这个例子中，每一个 `\\` 都会被解释为一个单独的反斜杠。
```

- 如果你需要在正则表达式中包含反斜杠，也需要使用双反斜杠：

```javascript
const regex = /C:\\Users\\Username\\Documents\\file\.txt/
console.log(regex) // 输出: /C:\\Users\\Username\\Documents\\file\.txt/

// 在这个例子中，每个 \ 都需要被转义，因为正则表达式本身也使用反斜杠作为转义字符。
```

## 6. 🤔 问：转义符 `\r\n` 诞生的背景

- `\r\n` 的诞生背景，和历史上的打字机有关。
  - 回车换行 `\r\n`
  - 回车 `\r`
  - 换行 `\n`
- `\r\n` 的由来与历史上的 **打字机** 和早期计算机终端的工作方式有关。理解这些字符的背景，需要回顾计算机文本处理的早期历史。
- `\r\n` 的使用是一个从早期打字机操作演变而来的历史遗留问题，它体现了计算机技术发展过程中的连续性和兼容性考虑。
- 打字机的工作原理
  - 在早期的打字机上，当打字员达到一行的末尾时，需要执行两个动作来开始新的一行：
    1. **回车（Carriage Return, CR）** - 这个操作使打字机的打印头回到左边界的起始位置。
    2. **换行（Line Feed, LF）** - 这个操作使纸张向上滚动一行。
  - 这 **两个动作** 分别对应于 `\r` （回车符）和 `\n` （换行符）。
- 电传打字机和早期计算机
  - 随着电传打字机（Teletypes）和早期计算机终端的使用，这些设备也采用了类似的机械操作方式。在这些设备中，`CR` 和 `LF` 同样是控制字符，用于文本的格式化和定位。
- 操作系统的采用
  - 随着计算机操作系统的发展，不同系统采纳了不同的约定来表示文本中的行结束：
- **Unix 和后来的 Linux 及 macOS**：
  - **采用简单的 `\n` 来表示行结束**，这可能是因为它简化了处理逻辑，并且节省了存储空间。
  - **Windows（及之前的 DOS）**：
    - **采用 `\r\n` 组合来模仿早期电传打字机的行为**，保持与之前技术的兼容性。
    - 在这些系统中，`\r\n` 确保了文本在编辑和显示时的一致性，尤其是在涉及多种设备和上下文（如网络传输和文本文件处理）时。
  - 多提一嘴：从这个历史小片段来看，其实也反映出了 macOS 和 Windows 系统在设计上的一些策略：
    - Windows：保留技术债 - 比如在做系统升级（比如 win10 -> win11）的时候，会尽可能去考虑之前软件的兼容性。对于早期系统设计上一些不太合理的地方，从技术角度来看是可以优化处理掉的，可是却没有这么做，一些历史问题被保留了一下。
    - macOS：舍弃技术债 - 系统一升级，很多旧版软件可能压根就打不开了。
- 现代应用
  - 尽管现代计算机和打印技术不再需要物理的“回车”和“换行”操作，`\r\n` 作为行结束符的约定仍然在 Windows 系统中保留。这种历史遗留的特性意味着跨平台软件开发和网络通信协议（如 HTTP 和电子邮件标准）中仍需考虑不同的行结束符处理。
